[{"path":"https://kjhealy.github.io/nycdogs/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2019 Kieran Healy Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://kjhealy.github.io/nycdogs/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Kieran Healy. Author, maintainer.","code":""},{"path":"https://kjhealy.github.io/nycdogs/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Healy K (2019). nycdogs: Dogs New York. R package version 0.2.0, http://kjhealy.github.io/nycdogs.","code":"@Manual{nycdogs,   title = {nycdogs: Dogs of New York},   author = {Kieran Healy},   year = {2019},   note = {R package version 0.2.0},   url = {http://kjhealy.github.io/nycdogs}, }"},{"path":[]},{"path":"https://kjhealy.github.io/nycdogs/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"New York City dog licenses and bite incidents by zip code","text":"nycdogs data package, bundling several datasets convenient format. relatively large size data package means suitable hosting CRAN, core R package repository. Install package GitHub : nycdogs package contains two datasets, nyc_license nyc_bites. contain, respectively, data licensed dogs New York city (current), data reported dog bites New York city (older data). also re-exports objects fron nyczips make easier draw maps data.","code":"# install.packages(\"pak\") pak::pak(\"kjhealy/nycdogs\")"},{"path":"https://kjhealy.github.io/nycdogs/index.html","id":"loading-the-data","dir":"","previous_headings":"","what":"Loading the data","title":"New York City dog licenses and bite incidents by zip code","text":"package works best tidyverse libraries simple features package mapping. Load data: look tibble contains licensing data, :","code":"library(tidyverse) #> ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ── #> ✔ dplyr     1.1.4     ✔ readr     2.1.5 #> ✔ forcats   1.0.1     ✔ stringr   1.6.0 #> ✔ ggplot2   4.0.0     ✔ tibble    3.3.0 #> ✔ lubridate 1.9.4     ✔ tidyr     1.3.1 #> ✔ purrr     1.2.0      #> ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ── #> ✖ dplyr::filter() masks stats::filter() #> ✖ dplyr::lag()    masks stats::lag() #> ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors library(sf)  #> Linking to GEOS 3.13.0, GDAL 3.8.5, PROJ 9.5.1; sf_use_s2() is TRUE library(nycdogs) #> Loading required package: nyczips nyc_license #> # A tibble: 722,864 × 12 #>    animal_name animal_gender animal_birth_year breed_name      breed_rc zip_code #>    <chr>       <chr>                     <int> <chr>           <chr>    <chr>    #>  1 Paige       F                          2014 American Pit B… Pit Bul… 10035    #>  2 Yogi        M                          2010 Boxer           Boxer    10465    #>  3 Ali         M                          2014 Basenji         Basenji  10013    #>  4 Queen       F                          2013 Akita Crossbre… Akita C… 10013    #>  5 Lola        F                          2009 Maltese         Maltese  10028    #>  6 Ian         M                          2006 Unknown         Unknown  10013    #>  7 Buddy       M                          2008 Unknown         Unknown  10025    #>  8 Chewbacca   F                          2012 Labrador Retri… Labrado… 10013    #>  9 Heidi-bo    F                          2007 Dachshund Smoo… Dachshu… 11215    #> 10 Massimo     M                          2009 Bull Dog, Fren… Bull Do… 11201    #> # ℹ 722,854 more rows #> # ℹ 6 more variables: zip <chr>, license_issued_date <date>, #> #   license_expired_date <date>, extract_year <int>, borough <chr>, city <chr>"},{"path":"https://kjhealy.github.io/nycdogs/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"New York City dog licenses and bite incidents by zip code","text":"dogs particular name live:","code":"boro_names <- c(\"Manhattan\", \"Queens\", \"Brooklyn\",                  \"Bronx\", \"Staten Island\")  nyc_coco <- nyc_license |>   filter(borough %in% boro_names) |>    group_by(zip, animal_name) |>    tally() |>   ungroup() |>   complete(zip, animal_name,             fill = list(n = 0)) |>    filter(animal_name == \"Coco\") |>    mutate(freq = n / sum(n),            pct = round(freq*100, 2))    nyc_coco #> # A tibble: 196 × 5 #>    zip   animal_name     n     freq   pct #>    <chr> <chr>       <int>    <dbl> <dbl> #>  1 10001 Coco           52 0.00960   0.96 #>  2 10002 Coco           61 0.0113    1.13 #>  3 10003 Coco           22 0.00406   0.41 #>  4 10004 Coco            2 0.000369  0.04 #>  5 10005 Coco            5 0.000923  0.09 #>  6 10006 Coco            0 0         0    #>  7 10007 Coco           25 0.00462   0.46 #>  8 10009 Coco           50 0.00923   0.92 #>  9 10010 Coco           57 0.0105    1.05 #> 10 10011 Coco           58 0.0107    1.07 #> # ℹ 186 more rows  ## nyc_zip_sf is from the nyczips package, which is automatically loaded by nycdogs. coco_map <- left_join(nyc_zip_sf, nyc_coco) #> Joining with `by = join_by(zip)`  ## Map theme theme_nymap <- function(base_size=9, base_family=\"\") {     require(grid)     theme_bw(base_size=base_size, base_family=base_family) %+replace%         theme(axis.line=element_blank(),               axis.text=element_blank(),               axis.ticks=element_blank(),               axis.title=element_blank(),               panel.background=element_blank(),               panel.border=element_blank(),               panel.grid=element_blank(),               panel.spacing=unit(0, \"lines\"),               plot.background=element_blank(),               legend.justification = c(0,0),               legend.position = \"inside\",               legend.position.inside = c(0, 0.7),                legend.direction = \"horizontal\"         ) }  coco_map |> ggplot(mapping = aes(fill = pct)) +     geom_sf(color = \"gray80\", linewidth = 0.1) +     scale_fill_binned(guide = \"bins\", type = \"viridis\", option = \"A\") +     labs(fill = \"Percent of all NYC\\ndogs named Coco\") +   annotate(geom = \"text\", x = -74.16, y = 40.84,             label = \"Where's Coco?\", size = 6) +      theme_nymap()  #> Loading required package: grid"},{"path":"https://kjhealy.github.io/nycdogs/reference/nyc_bites.html","id":null,"dir":"Reference","previous_headings":"","what":"New York City Dog Reported Dog bites — nyc_bites","title":"New York City Dog Reported Dog bites — nyc_bites","text":"Reported dog bite incidents New York city January 1st 2015 Decenber 31st 2017,","code":""},{"path":"https://kjhealy.github.io/nycdogs/reference/nyc_bites.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"New York City Dog Reported Dog bites — nyc_bites","text":"","code":"nyc_bites"},{"path":"https://kjhealy.github.io/nycdogs/reference/nyc_bites.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"New York City Dog Reported Dog bites — nyc_bites","text":"tibble containing 10,280 rows 11 columns uniqueid Incident identified. date_of_bite Date bite. species Species animal (\"Dog\"). breed Breed dog. age Age dog. gender Sex dog. spay_neuter Spayed neutered (True/False) borough Borough bite occurred. zip_code Zip code bite occurred. year Year breed_rc Recoded breed variable aggregated breed categories)","code":""},{"path":"https://kjhealy.github.io/nycdogs/reference/nyc_bites.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"New York City Dog Reported Dog bites — nyc_bites","text":"New York City public data","code":""},{"path":"https://kjhealy.github.io/nycdogs/reference/nyc_license.html","id":null,"dir":"Reference","previous_headings":"","what":"Dogs of New York — nyc_license","title":"Dogs of New York — nyc_license","text":"Active Dog Licenses New York City February 2025.","code":""},{"path":"https://kjhealy.github.io/nycdogs/reference/nyc_license.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Dogs of New York — nyc_license","text":"","code":"nyc_license"},{"path":"https://kjhealy.github.io/nycdogs/reference/nyc_license.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Dogs of New York — nyc_license","text":"## `nyc_license` data frame 722,864 rows 12 columns: animal_name Name dog animal_gender Sex dog animal_birth_year Year dog born breed_name Dog breed breed_rc Lightly recoded breed zip_code Owner zip code. zip, retained compatibility nyc_bites. zip Owner zip code license_issued_date Date license issued. license_expired_date Date license expires. extract_year Year record queried. borough Borough Owner. (zip codes one borough counted .) city Nominal city, based zip code.","code":""},{"path":"https://kjhealy.github.io/nycdogs/reference/nyc_license.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Dogs of New York — nyc_license","text":"Sourced NYC Open Data <https://data.cityofnewyork.us/Health/NYC-Dog-Licensing-Dataset/nu7n-tubp>","code":""},{"path":"https://kjhealy.github.io/nycdogs/reference/nyc_license.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Dogs of New York — nyc_license","text":"data sourced DOHMH Dog Licensing System (https://a816-healthpsi.nyc.gov/DogLicense), owners can apply renew dog licenses. record represents unique dog license active year, necessarily unique record per dog, since license renewed year results separate record active license period. record stands unique license period dog course yearlong time frame.","code":""},{"path":"https://kjhealy.github.io/nycdogs/reference/nyc_license.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Dogs of New York — nyc_license","text":"Kieran Healy","code":""}]
